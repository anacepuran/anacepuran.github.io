(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"1a23":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",[t("div",{staticClass:"text-h5 q-ma-lg"},[e._v(e._s(e.$t("userAdm")))]),t("div",[t("q-table",{staticClass:"q-ma-lg user-table",staticStyle:{height:"70vh"},attrs:{data:e.users,columns:e.columns,"row-key":"username","virtual-scroll":"",filter:e.filter,pagination:e.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(s){e.pagination=s}},scopedSlots:e._u([{key:"top",fn:function(){return[t("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Išči",clearable:""},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(s){e.filter=s},expression:"filter"}}),t("q-space"),t("q-btn",{attrs:{icon:"add",color:"primary",size:"md",label:e.$t("addUser")},on:{click:function(s){e.addUser=!0}}})]},proxy:!0},{key:"body-cell-edit",fn:function(s){return[t("q-td",{attrs:{props:s}},[t("div",[t("q-btn",{attrs:{size:"sm",round:"",color:"secondary",icon:"create"},on:{click:function(t){return e.editFunction(s.row)}}})],1)])]}},{key:"body-cell-delete",fn:function(s){return[t("q-td",{attrs:{props:s}},[t("div",[t("q-btn",{attrs:{size:"sm",round:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteUser=s.row,e.confirmDelete=!0}}})],1)])]}},{key:"body-cell-nfc",fn:function(s){return[t("q-td",{attrs:{props:s}},[t("div",[""!==s.row.nfc?t("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"memory"}}):t("q-btn",{attrs:{size:"sm",color:"grey-4","text-color":"secondary",label:e.$t("setNFC")}})],1)])]}}])})],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.confirmDelete,callback:function(s){e.confirmDelete=s},expression:"confirmDelete"}},[t("q-card",[t("q-card-section",{staticClass:"row items-center"},[t("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white",size:"md"}}),t("span",{staticClass:"q-ml-sm"},[e._v(e._s(e.$t("confirmUserDelete"))+" "),t("b",[e._v(e._s(e.deleteUser.username))]),e._v(" ?")])],1),t("q-card-actions",[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("cancel"),color:"grey-7"},on:{click:function(s){e.deleteUser=""}}}),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("delete"),color:"negative"},on:{click:function(s){return e.deleteFunction(e.deleteUser)}}})],1)],1)],1),t("q-dialog",{model:{value:e.addUser,callback:function(s){e.addUser=s},expression:"addUser"}},[t("q-card",{staticStyle:{width:"100vw"}},[t("q-card-section",{staticClass:"row items-center bg-secondary text-white"},[t("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("chooseUser")))]),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:e.onReset}})],1),t("div",{staticClass:"text-caption q-ma-md"},[e._v("Seznam uporabnikov iz Birokrata:")]),t("q-table",{staticClass:"q-ma-md user-table",attrs:{dense:"",data:e.dbUsers,columns:e.columnsAddUser,"row-key":"id","virtual-scroll":"",filter:e.filterFromDb,pagination:e.pagination,"rows-per-page-options":[0],selection:"single",selected:e.selected,"hide-bottom":""},on:{"update:pagination":function(s){e.pagination=s},"update:selected":function(s){e.selected=s}},scopedSlots:e._u([{key:"top",fn:function(){return[t("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Išči",clearable:""},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filterFromDb,callback:function(s){e.filterFromDb=s},expression:"filterFromDb"}})]},proxy:!0}])}),t("q-card-actions",{staticClass:"row q-ma-sm"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("cancel"),color:"secondary"},on:{click:function(s){e.selected=[],e.filterFromDb=""}}}),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:e.$t("add"),color:"primary"},on:{click:e.addUserFromBirokrat}})],1)],1)],1),t("q-dialog",{model:{value:e.editUser,callback:function(s){e.editUser=s},expression:"editUser"}},[t("q-card",{staticStyle:{width:"60vh"}},[t("q-card-section",{staticClass:"row items-center bg-secondary text-white"},[t("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("editUser")))]),t("q-space"),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:e.onReset}})],1),t("q-card-section",[t("UserForm",{attrs:{newUser:e.selected[0],editUser:e.editThisUser},on:{submitUser:e.submitNewUser}})],1)],1)],1)],1)},r=[],n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-form",{on:{submit:e.onSubmit,reset:e.onReset}},[t("div",{staticClass:"row"},[t("q-input",{staticClass:"q-ma-sm col-5",attrs:{filled:"",label:e.$t("name"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.pushUser.name,callback:function(s){e.$set(e.pushUser,"name",s)},expression:"pushUser.name"}}),t("q-input",{staticClass:"q-ma-sm col-6",attrs:{filled:"",label:e.$t("surname"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.pushUser.surname,callback:function(s){e.$set(e.pushUser,"surname",s)},expression:"pushUser.surname"}})],1),t("q-input",{staticClass:"q-ma-sm",attrs:{filled:"",label:e.$t("username"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please set username"}]},model:{value:e.pushUser.username,callback:function(s){e.$set(e.pushUser,"username",s)},expression:"pushUser.username"}}),e.changePassword?t("q-input",{staticClass:"q-ma-sm",attrs:{filled:"",label:e.$t("password"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please set password"}]},model:{value:e.pushUser.password,callback:function(s){e.$set(e.pushUser,"password",s)},expression:"pushUser.password"}}):e._e(),!1===e.changePassword?t("q-btn",{staticClass:"q-ma-sm",attrs:{label:e.$t("changePassword"),size:"sm"},on:{click:function(s){e.changePassword=!0}}}):e._e(),!0===e.editUser&&!0===e.changePassword?t("q-btn",{staticClass:"q-ma-sm",attrs:{label:e.$t("cancel"),size:"sm"},on:{click:function(s){e.changePassword=!1}}}):e._e(),t("div",[t("q-select",{staticClass:"q-ma-sm",attrs:{filled:"",options:e.permissionOptions,label:e.$t("role"),width:"100%","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please select user role"}]},model:{value:e.pushUser.role,callback:function(s){e.$set(e.pushUser,"role",s)},expression:"pushUser.role"}})],1),t("q-card-actions",{attrs:{horizontal:"",align:"right"}},[t("q-btn",{staticClass:"q-ml-sm",attrs:{label:e.$t("reset"),type:"reset",color:"secondary",flat:""}}),t("q-btn",{attrs:{label:e.$t("add"),type:"submit",color:"primary"}})],1),t("div",{staticClass:"q-ma-md text-center"},[""!=e.error?t("p",{staticStyle:{color:"red"}},[e._v(e._s(e.error))]):e._e()])],1)},o=[],l={name:"UserForm",data(){return{error:"",permissionOptions:["Admin","Delavec","Tehnološki","Prodajni","Finančni"],changePassword:!0,allUsers:[],pushUser:{name:"",surname:"",username:"",password:"",role:"",nfc:""}}},props:{editUser:{type:Boolean},newUser:{type:Object}},methods:{onReset(){this.pushUser.name=this.$props.newUser.name,this.pushUser.surname=this.$props.newUser.surname,this.pushUser.id=this.$props.newUser.id,this.pushUser.username=this.$props.newUser.username,this.pushUser.password="",this.pushUser.role=this.$props.newUser.role,this.error=""},onSubmit(){this.pushUser.username&&this.pushUser.password&&this.pushUser.role&&this.$emit("submitUser",this.pushUser)}},mounted(){this.onReset(),this.$props.editUser&&(this.changePassword=!1)}},i=l,c=t("2877"),d=t("0378"),u=t("27f9"),m=t("9c40"),p=t("ddd8"),h=t("4b7e"),f=t("eebe"),b=t.n(f),U=Object(c["a"])(i,n,o,!1,null,null,null),q=U.exports;b()(U,"components",{QForm:d["a"],QInput:u["a"],QBtn:m["a"],QSelect:p["a"],QCardActions:h["a"]});var v={name:"Users",components:{UserForm:q},data(){return{selected:[],deleteUser:{},editThisUser:!1,pagination:{rowsPerPage:0},filter:"",filterFromDb:"",newUser:{name:"",surname:"",username:"",password:"",role:null,nfc:""},users:[{username:"anacepuran",name:"Ana",surname:"Čepuran",role:"Admin",nfc:"12345",id:1},{username:"markomladenovic",name:"Marko",surname:"Mladenovič",role:"Prodajni",nfc:"",id:3},{username:"uroslogar",name:"Uroš",surname:"Logar",role:"Tehnološki",nfc:"",id:5},{username:"jozicakovac",name:"Jožica",surname:"Kovač",role:"Delavec",nfc:"12345",id:6}],dbUsers:[{name:"Klemen",surname:"Koleša",id:2},{name:"Klemen",surname:"Lavrač",id:4},{name:"Tadej",surname:"Marinko",id:7},{name:"Aljaž",surname:"Gračnar",id:8}],addUser:!1,confirmDelete:!1,editUser:!1,columns:[{name:"name",align:"left",label:this.$t("name"),field:"name"},{name:"surname",align:"left",label:this.$t("surname"),field:"surname",sortable:!0},{name:"username",required:!0,label:this.$t("username"),align:"left",field:e=>e.username,sortable:!0},{name:"role",align:"left",label:this.$t("role"),field:"role"},{name:"edit",align:"center",field:"edit"},{name:"delete",align:"center",field:"delete"},{name:"nfc",align:"center",field:"nfc"}],columnsAddUser:[{name:"id",align:"left",label:"ID",field:"id"},{name:"name",align:"left",label:this.$t("name"),field:"name"},{name:"surname",align:"left",label:this.$t("surname"),field:"surname",sortable:!0}]}},methods:{addUserFromBirokrat(){console.log(this.selected[0]),this.editUser=!0},submitNewUser(e){this.editUser=!1,this.selected=[],this.editThisUser?console.log("UPDATE USER"):console.log("ADD NEW USER"),console.log(e)},deleteFunction(e){console.log(e)},editFunction(e){this.selected.push(e),this.editThisUser=!0,this.editUser=!0},onReset(){this.editUser=!1,this.editThisUser=!1,this.selected=[]}}},g=v,w=(t("d494"),t("9989")),y=t("eaac"),k=t("0016"),$=t("2c91"),C=t("db86"),_=t("24e8"),x=t("f09f"),P=t("a370"),D=t("cb32"),F=t("7f67"),Q=Object(c["a"])(g,a,r,!1,null,null,null);s["default"]=Q.exports;b()(Q,"components",{QPage:w["a"],QTable:y["a"],QInput:u["a"],QIcon:k["a"],QSpace:$["a"],QBtn:m["a"],QTd:C["a"],QDialog:_["a"],QCard:x["a"],QCardSection:P["a"],QAvatar:D["a"],QCardActions:h["a"]}),b()(Q,"directives",{ClosePopup:F["a"]})},"30ea":function(e,s,t){},d494:function(e,s,t){"use strict";t("30ea")}}]);