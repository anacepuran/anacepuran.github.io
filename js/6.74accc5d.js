(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"051b":function(e,s,a){"use strict";a.r(s);var r=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("q-page",{staticClass:"window-width"},[a("div",{staticClass:"q-pa-md"},[a("q-table",{staticClass:"q-ma-lg user-table",staticStyle:{height:"70vh"},attrs:{data:e.users,columns:e.columns,"row-key":"username","virtual-scroll":"",filter:e.filter,pagination:e.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(s){e.pagination=s}},scopedSlots:e._u([{key:"top",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Išči"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(s){e.filter=s},expression:"filter"}}),a("q-space"),a("q-btn",{attrs:{icon:"add",color:"primary",size:"md",label:"Dodaj uporabnika"},on:{click:function(s){e.dialogTitle="Dodaj novega uporabnika",e.addUser=!0}}})]},proxy:!0},{key:"body-cell-edit",fn:function(s){return[a("q-td",{attrs:{props:s}},[a("div",[a("q-btn",{attrs:{size:"sm",round:"",color:"secondary",icon:"create"},on:{click:function(a){return e.editFunction(s.row)}}})],1)])]}},{key:"body-cell-delete",fn:function(s){return[a("q-td",{attrs:{props:s}},[a("div",[a("q-btn",{attrs:{size:"sm",round:"",color:"negative",icon:"delete"},on:{click:function(a){e.deleteUserId=s.row._id,e.confirmDelete=!0}}})],1)])]}},{key:"body-cell-nfc",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("div",[""!==e.row.nfc?a("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"memory"}}):a("q-btn",{attrs:{size:"sm",color:"grey-4","text-color":"secondary",label:"Nastavi NFC"}})],1)])]}}])})],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.confirmDelete,callback:function(s){e.confirmDelete=s},expression:"confirmDelete"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white",size:"md"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Ali ste prepričani, da želite izbrisati tega uporabnika?")])],1),a("q-card-actions",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Prekliči",color:"grey-7"},on:{click:function(s){e.deleteUserId=""}}}),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Izbriši",color:"negative"},on:{click:function(s){return e.deleteFunction(e.deleteUserId)}}})],1)],1)],1),a("q-dialog",{model:{value:e.addUser,callback:function(s){e.addUser=s},expression:"addUser"}},[a("q-card",{staticStyle:{width:"80vh"}},[a("q-card-section",{staticClass:"row items-center bg-secondary text-white"},[a("div",{staticClass:"text-h6"},[e._v(e._s(e.dialogTitle))]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:e.onReset}})],1),a("UserForm",{attrs:{newUser:e.newUser,editUser:e.editUser}})],1)],1)],1)},t=[],n=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("q-form",{staticClass:"q-ma-md",on:{submit:e.onSubmit,reset:e.onReset}},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-ma-sm col-5",attrs:{filled:"",label:"Ime","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.pushUser.name,callback:function(s){e.$set(e.pushUser,"name",s)},expression:"pushUser.name"}}),a("q-input",{staticClass:"q-ma-sm col-6",attrs:{filled:"",label:"Priimek","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.pushUser.surname,callback:function(s){e.$set(e.pushUser,"surname",s)},expression:"pushUser.surname"}})],1),a("q-input",{staticClass:"q-ma-sm",attrs:{filled:"",label:"Uporabniško ime","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.pushUser.username,callback:function(s){e.$set(e.pushUser,"username",s)},expression:"pushUser.username"}}),e.changePassword?a("q-input",{staticClass:"q-ma-sm",attrs:{filled:"",label:"Geslo","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.pushUser.password,callback:function(s){e.$set(e.pushUser,"password",s)},expression:"pushUser.password"}}):e._e(),!e.changePassword&&e.$props.editUser?a("q-btn",{staticClass:"q-ma-md",attrs:{size:"sm",label:"Spremeni geslo"},on:{click:function(s){e.changePassword=!0}}}):e._e(),e.changePassword&&e.$props.editUser?a("q-btn",{staticStyle:{"margin-top":"-10px"},attrs:{size:"sm",label:"Prekliči"},on:{click:function(s){e.changePassword=!1,e.pushUser.password=""}}}):e._e(),"/users"===this.$router.currentRoute.path?a("div",[a("q-select",{staticClass:"q-ma-sm",attrs:{filled:"",options:e.permissionOptions,label:"Vloga",width:"100%"},model:{value:e.pushUser.role,callback:function(s){e.$set(e.pushUser,"role",s)},expression:"pushUser.role"}})],1):e._e(),a("q-card-actions",{attrs:{horizontal:"",align:"right"}},[a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Ponastavi",type:"reset",color:"secondary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Dodaj",type:"submit",color:"primary"}})],1),a("div",{staticClass:"q-ma-md text-center"},[""!=e.error?a("p",{staticStyle:{color:"red"}},[e._v(e._s(e.error))]):e._e()])],1)},o=[],l={name:"UserForm",data(){return{error:"",permissionOptions:["Admin","Delavec","Tehnološki","Prodajni","Finančni"],changePassword:!0,allUsers:[],pushUser:{name:"",surname:"",username:"",password:"",role:"",nfc:""}}},props:{editUser:{type:Boolean},newUser:{type:Object}},methods:{onReset(){this.pushUser.name=this.$props.newUser.name,this.pushUser.surname=this.$props.newUser.surname,this.pushUser.username=this.$props.newUser.username,this.pushUser.password="",this.pushUser.role=this.$props.newUser.role,this.error=""}}},i=l,c=a("2877"),u=a("0378"),d=a("27f9"),m=a("9c40"),p=a("ddd8"),f=a("4b7e"),h=a("7f67"),b=a("eebe"),U=a.n(b),w=Object(c["a"])(i,n,o,!1,null,null,null),g=w.exports;U()(w,"components",{QForm:u["a"],QInput:d["a"],QBtn:m["a"],QSelect:p["a"],QCardActions:f["a"]}),U()(w,"directives",{ClosePopup:h["a"]});var v={name:"Users",components:{UserForm:g},data(){return{pagination:{rowsPerPage:0},filter:"",newUser:{name:"",surname:"",username:"",password:"",role:null,nfc:""},dialogTitle:"",users:[{username:"anacepuran",name:"Ana",surname:"Čepuran",role:"Admin",nfc:"12345"},{username:"klemenkolesa",name:"Klemen",surname:"Koleša",role:"Tehnološki",nfc:""},{username:"markomladenovic",name:"Marko",surname:"Mladenovič",role:"Prodajni",nfc:""},{username:"klemenlavrac",name:"Klemen",surname:"Lavrač",role:"Prodajni",nfc:"12345"},{username:"uroslogar",name:"Uroš",surname:"Logar",role:"Tehnološki",nfc:""},{username:"jozicakovac",name:"Jožica",surname:"Kovač",role:"Delavec",nfc:"12345"}],addUser:!1,confirmDelete:!1,editUser:!1,columns:[{name:"name",align:"left",label:"Ime",field:"name"},{name:"surname",align:"left",label:"Priimek",field:"surname",sortable:!0},{name:"username",required:!0,label:"Uporabniško ime",align:"left",field:e=>e.username,sortable:!0},{name:"role",align:"left",label:"Vloga",field:"role"},{name:"edit",align:"center",field:"edit"},{name:"delete",align:"center",field:"delete"},{name:"nfc",align:"center",field:"nfc"}]}},methods:{editFunction(e){console.log(e),this.dialogTitle="Uredi uporabnika",this.editUser=!0,this.newUser.name=e.name,this.newUser.surname=e.surname,this.newUser.username=e.username,this.newUser.password="",this.newUser.role=e.role,this.addUser=!0},onReset(){this.newUser.name="",this.newUser.surname="",this.newUser.username="",this.newUser.password="",this.newUser.role=null,this.editUser=!1}}},q=v,k=(a("23b0"),a("9989")),y=a("eaac"),C=a("0016"),P=a("2c91"),x=a("db86"),Q=a("24e8"),_=a("f09f"),z=a("a370"),$=a("cb32"),D=Object(c["a"])(q,r,t,!1,null,null,null);s["default"]=D.exports;U()(D,"components",{QPage:k["a"],QTable:y["a"],QInput:d["a"],QIcon:C["a"],QSpace:P["a"],QBtn:m["a"],QTd:x["a"],QDialog:Q["a"],QCard:_["a"],QCardSection:z["a"],QAvatar:$["a"],QCardActions:f["a"]}),U()(D,"directives",{ClosePopup:h["a"]})},"23b0":function(e,s,a){"use strict";a("5574")},5574:function(e,s,a){}}]);